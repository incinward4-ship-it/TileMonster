{"ast":null,"code":"var _jsxFileName = \"/home/user/TileMonster/css-tile-forge/src/components/Sandbox/Sandbox.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useLayoutEffect, useEffect, useCallback } from 'react';\nimport { buildCompleteStyle } from '../../utils/styleHelpers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MIN_GRID_SIZE = 16;\nconst MAX_GRID_SIZE = 64;\nconst ZOOM_LEVELS = [12, 18, 24]; // Cell sizes in pixels\n\nconst Sandbox = ({\n  palette,\n  grid,\n  paintCell,\n  clearGrid,\n  randomizeGrid,\n  setGrid\n}) => {\n  _s();\n  var _grid$;\n  const [isPainting, setIsPainting] = useState(false);\n  const [showGridLines, setShowGridLines] = useState(true);\n  const [zoomLevel, setZoomLevel] = useState(1); // Index for ZOOM_LEVELS\n  const [gridDimensions, setGridDimensions] = useState({\n    rows: grid.length || 16,\n    cols: ((_grid$ = grid[0]) === null || _grid$ === void 0 ? void 0 : _grid$.length) || 16\n  });\n  const gridContainerRef = useRef(null);\n  const updateGridSize = useCallback(() => {\n    if (gridContainerRef.current) {\n      const {\n        width,\n        height\n      } = gridContainerRef.current.getBoundingClientRect();\n      const cellSize = ZOOM_LEVELS[zoomLevel] + (showGridLines ? 1 : 0);\n      const newCols = Math.max(MIN_GRID_SIZE, Math.min(MAX_GRID_SIZE, Math.floor(width / cellSize)));\n      const newRows = Math.max(MIN_GRID_SIZE, Math.min(MAX_GRID_SIZE, Math.floor(height / cellSize)));\n      setGridDimensions(prevDimensions => {\n        if (prevDimensions.rows === newRows && prevDimensions.cols === newCols) {\n          return prevDimensions;\n        } else {\n          return {\n            rows: newRows,\n            cols: newCols\n          };\n        }\n      });\n      setGrid(prevGrid => {\n        const newGrid = Array.from({\n          length: newRows\n        }, (_, r) => Array.from({\n          length: newCols\n        }, (_, c) => {\n          var _prevGrid$;\n          return r < prevGrid.length && c < (((_prevGrid$ = prevGrid[0]) === null || _prevGrid$ === void 0 ? void 0 : _prevGrid$.length) || 0) && prevGrid[r] ? prevGrid[r][c] : null;\n        }));\n        return newGrid;\n      });\n    }\n  }, [zoomLevel, showGridLines, setGrid, gridContainerRef]);\n  useLayoutEffect(() => {\n    updateGridSize();\n    const resizeObserver = new ResizeObserver(updateGridSize);\n    if (gridContainerRef.current) {\n      resizeObserver.observe(gridContainerRef.current);\n    }\n    return () => resizeObserver.disconnect();\n  }, [updateGridSize]);\n  useEffect(() => {}, [grid, palette]);\n  const handleMouseDown = (rowIndex, cellIndex) => {\n    setIsPainting(true);\n    paintCell(rowIndex, cellIndex);\n  };\n  const handleMouseEnter = (rowIndex, cellIndex) => {\n    if (isPainting) {\n      paintCell(rowIndex, cellIndex);\n    }\n  };\n  const getCellStyle = (rowIndex, cellIndex) => {\n    var _grid$rowIndex;\n    const paletteIndex = (_grid$rowIndex = grid[rowIndex]) === null || _grid$rowIndex === void 0 ? void 0 : _grid$rowIndex[cellIndex];\n    const baseStyle = {\n      width: `${ZOOM_LEVELS[zoomLevel]}px`,\n      height: `${ZOOM_LEVELS[zoomLevel]}px`,\n      boxSizing: 'border-box'\n    };\n    if (paletteIndex === null || paletteIndex === undefined || !palette[paletteIndex]) {\n      return {\n        ...baseStyle,\n        backgroundColor: '#ddd'\n      };\n    }\n    const rawTileStyle = palette[paletteIndex];\n    const completeTileStyle = buildCompleteStyle(rawTileStyle);\n    if (rawTileStyle.blend) {\n      const {\n        rows,\n        cols\n      } = gridDimensions;\n      const isSameTile = (r, c) => {\n        var _grid$r;\n        return ((_grid$r = grid[r]) === null || _grid$r === void 0 ? void 0 : _grid$r[c]) === paletteIndex;\n      };\n      const hasTop = rowIndex > 0 && isSameTile(rowIndex - 1, cellIndex);\n      const hasBottom = rowIndex < rows - 1 && isSameTile(rowIndex + 1, cellIndex);\n      const hasLeft = cellIndex > 0 && isSameTile(rowIndex, cellIndex - 1);\n      const hasRight = cellIndex < cols - 1 && isSameTile(rowIndex, cellIndex + 1);\n      if (hasTop) {\n        completeTileStyle.borderTop = 'none';\n        completeTileStyle.boxShadow = 'none';\n      }\n      if (hasBottom) {\n        completeTileStyle.borderBottom = 'none';\n        completeTileStyle.boxShadow = 'none';\n      }\n      if (hasLeft) {\n        completeTileStyle.borderLeft = 'none';\n        completeTileStyle.boxShadow = 'none';\n      }\n      if (hasRight) {\n        completeTileStyle.borderRight = 'none';\n        completeTileStyle.boxShadow = 'none';\n      }\n      if (hasTop || hasLeft) completeTileStyle.borderTopLeftRadius = 0;\n      if (hasTop || hasRight) completeTileStyle.borderTopRightRadius = 0;\n      if (hasBottom || hasLeft) completeTileStyle.borderBottomLeftRadius = 0;\n      if (hasBottom || hasRight) completeTileStyle.borderBottomRightRadius = 0;\n    }\n    return {\n      ...baseStyle,\n      ...completeTileStyle\n    };\n  };\n  const generateGridCells = () => {\n    const cells = [];\n    for (let row = 0; row < gridDimensions.rows; row++) {\n      for (let col = 0; col < gridDimensions.cols; col++) {\n        cells.push(/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid-cell\",\n          onMouseDown: () => handleMouseDown(row, col),\n          onMouseEnter: () => handleMouseEnter(row, col),\n          style: getCellStyle(row, col)\n        }, `${row}-${col}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this));\n      }\n    }\n    return cells;\n  };\n  const gridStyle = {\n    display: 'grid',\n    gridTemplateColumns: `repeat(${gridDimensions.cols}, ${ZOOM_LEVELS[zoomLevel]}px)`,\n    gridTemplateRows: `repeat(${gridDimensions.rows}, ${ZOOM_LEVELS[zoomLevel]}px)`,\n    gap: showGridLines ? '1px' : '0',\n    justifyContent: 'center',\n    alignContent: 'center',\n    width: '100%',\n    height: '100%',\n    backgroundColor: showGridLines ? '#555' : 'transparent',\n    border: showGridLines ? '1px solid #555' : 'none',\n    overflow: 'hidden'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"sandbox\",\n    onMouseUp: () => setIsPainting(false),\n    onMouseLeave: () => setIsPainting(false),\n    children: [\"     \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sandbox-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: clearGrid,\n        children: \"Clear\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: randomizeGrid,\n        children: \"Randomize\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowGridLines(!showGridLines),\n        className: showGridLines ? 'active' : '',\n        children: \"Grid\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"zoom-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setZoomLevel(0),\n          className: zoomLevel === 0 ? 'active' : '',\n          children: \"1x\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setZoomLevel(1),\n          className: zoomLevel === 1 ? 'active' : '',\n          children: \"2x\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setZoomLevel(2),\n          className: zoomLevel === 2 ? 'active' : '',\n          children: \"3x\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: `${gridDimensions.rows} Ã— ${gridDimensions.cols}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 116\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: gridContainerRef,\n      className: `sandbox-grid ${!showGridLines ? 'no-grid' : ''}`,\n      style: gridStyle,\n      children: generateGridCells()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 167,\n    columnNumber: 5\n  }, this);\n};\n_s(Sandbox, \"bcGXylplm2UoB6/hAWRSpPdLUOo=\");\n_c = Sandbox;\nexport default Sandbox;\nvar _c;\n$RefreshReg$(_c, \"Sandbox\");","map":{"version":3,"names":["React","useState","useRef","useLayoutEffect","useEffect","useCallback","buildCompleteStyle","jsxDEV","_jsxDEV","MIN_GRID_SIZE","MAX_GRID_SIZE","ZOOM_LEVELS","Sandbox","palette","grid","paintCell","clearGrid","randomizeGrid","setGrid","_s","_grid$","isPainting","setIsPainting","showGridLines","setShowGridLines","zoomLevel","setZoomLevel","gridDimensions","setGridDimensions","rows","length","cols","gridContainerRef","updateGridSize","current","width","height","getBoundingClientRect","cellSize","newCols","Math","max","min","floor","newRows","prevDimensions","prevGrid","newGrid","Array","from","_","r","c","_prevGrid$","resizeObserver","ResizeObserver","observe","disconnect","handleMouseDown","rowIndex","cellIndex","handleMouseEnter","getCellStyle","_grid$rowIndex","paletteIndex","baseStyle","boxSizing","undefined","backgroundColor","rawTileStyle","completeTileStyle","blend","isSameTile","_grid$r","hasTop","hasBottom","hasLeft","hasRight","borderTop","boxShadow","borderBottom","borderLeft","borderRight","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","generateGridCells","cells","row","col","push","className","onMouseDown","onMouseEnter","style","fileName","_jsxFileName","lineNumber","columnNumber","gridStyle","display","gridTemplateColumns","gridTemplateRows","gap","justifyContent","alignContent","border","overflow","onMouseUp","onMouseLeave","children","onClick","ref","_c","$RefreshReg$"],"sources":["/home/user/TileMonster/css-tile-forge/src/components/Sandbox/Sandbox.tsx"],"sourcesContent":["import React, { useState, useRef, useLayoutEffect, useEffect, useCallback } from 'react';\nimport { TileStyle } from '../../data/types';\nimport { buildCompleteStyle } from '../../utils/styleHelpers';\n\ninterface SandboxProps {\n  palette: TileStyle[];\n  grid: (number | null)[][];\n  paintCell: (row: number, col: number) => void;\n  clearGrid: () => void;\n  randomizeGrid: () => void;\n  setGrid: (grid: (number | null)[][]) => void;\n}\n\nconst MIN_GRID_SIZE = 16;\nconst MAX_GRID_SIZE = 64;\nconst ZOOM_LEVELS = [12, 18, 24]; // Cell sizes in pixels\n\nconst Sandbox: React.FC<SandboxProps> = ({\n  palette,\n  grid,\n  paintCell,\n  clearGrid,\n  randomizeGrid,\n  setGrid,\n}) => {\n  const [isPainting, setIsPainting] = useState(false);\n  const [showGridLines, setShowGridLines] = useState(true);\n  const [zoomLevel, setZoomLevel] = useState(1); // Index for ZOOM_LEVELS\n  const [gridDimensions, setGridDimensions] = useState({ rows: grid.length || 16, cols: grid[0]?.length || 16 });\n  const gridContainerRef = useRef<HTMLDivElement>(null);\n\n  const updateGridSize = useCallback(() => {\n    if (gridContainerRef.current) {\n      const { width, height } = gridContainerRef.current.getBoundingClientRect();\n      const cellSize = ZOOM_LEVELS[zoomLevel] + (showGridLines ? 1 : 0);\n      \n      const newCols = Math.max(MIN_GRID_SIZE, Math.min(MAX_GRID_SIZE, Math.floor(width / cellSize)));\n      const newRows = Math.max(MIN_GRID_SIZE, Math.min(MAX_GRID_SIZE, Math.floor(height / cellSize)));\n\n      setGridDimensions(prevDimensions => {\n        if (prevDimensions.rows === newRows && prevDimensions.cols === newCols) {\n          return prevDimensions;\n        } else {\n          return { rows: newRows, cols: newCols };\n        }\n      });\n\n      setGrid(prevGrid => {\n        const newGrid = Array.from({ length: newRows }, (_, r) =>\n          Array.from({ length: newCols }, (_, c) => {\n            return r < prevGrid.length && c < (prevGrid[0]?.length || 0) && prevGrid[r] ? prevGrid[r][c] : null;\n          })\n        );\n        return newGrid;\n      });\n    }\n  }, [zoomLevel, showGridLines, setGrid, gridContainerRef]);\n\n  useLayoutEffect(() => {\n    updateGridSize();\n\n    const resizeObserver = new ResizeObserver(updateGridSize);\n    if (gridContainerRef.current) {\n      resizeObserver.observe(gridContainerRef.current);\n    }\n\n    return () => resizeObserver.disconnect();\n  }, [updateGridSize]);\n    \n  useEffect(() => {\n  }, [grid, palette]);\n\n  const handleMouseDown = (rowIndex: number, cellIndex: number) => {\n    setIsPainting(true);\n    paintCell(rowIndex, cellIndex);\n  };\n\n  const handleMouseEnter = (rowIndex: number, cellIndex: number) => {\n    if (isPainting) {\n      paintCell(rowIndex, cellIndex);\n    }\n  };\n\n  const getCellStyle = (rowIndex: number, cellIndex: number): React.CSSProperties => {\n    const paletteIndex = grid[rowIndex]?.[cellIndex];\n    const baseStyle: React.CSSProperties = {\n        width: `${ZOOM_LEVELS[zoomLevel]}px`,\n        height: `${ZOOM_LEVELS[zoomLevel]}px`,\n        boxSizing: 'border-box',\n    };\n\n    if (paletteIndex === null || paletteIndex === undefined || !palette[paletteIndex]) {\n      return { ...baseStyle, backgroundColor: '#ddd' };\n    }\n    \n    const rawTileStyle = palette[paletteIndex];\n    const completeTileStyle = buildCompleteStyle(rawTileStyle);\n\n    if (rawTileStyle.blend) {\n        const { rows, cols } = gridDimensions;\n        const isSameTile = (r: number, c: number) => grid[r]?.[c] === paletteIndex;\n\n        const hasTop = rowIndex > 0 && isSameTile(rowIndex - 1, cellIndex);\n        const hasBottom = rowIndex < rows - 1 && isSameTile(rowIndex + 1, cellIndex);\n        const hasLeft = cellIndex > 0 && isSameTile(rowIndex, cellIndex - 1);\n        const hasRight = cellIndex < cols - 1 && isSameTile(rowIndex, cellIndex + 1);\n\n        if (hasTop) {\n            completeTileStyle.borderTop = 'none';\n            completeTileStyle.boxShadow = 'none';\n        }\n        if (hasBottom) {\n            completeTileStyle.borderBottom = 'none';\n             completeTileStyle.boxShadow = 'none';\n        }\n        if (hasLeft) {\n            completeTileStyle.borderLeft = 'none';\n             completeTileStyle.boxShadow = 'none';\n        }\n        if (hasRight) {\n            completeTileStyle.borderRight = 'none';\n             completeTileStyle.boxShadow = 'none';\n        }\n        \n        if (hasTop || hasLeft) completeTileStyle.borderTopLeftRadius = 0;\n        if (hasTop || hasRight) completeTileStyle.borderTopRightRadius = 0;\n        if (hasBottom || hasLeft) completeTileStyle.borderBottomLeftRadius = 0;\n        if (hasBottom || hasRight) completeTileStyle.borderBottomRightRadius = 0;\n    }\n\n    return { ...baseStyle, ...completeTileStyle };\n  };\n\n  const generateGridCells = () => {\n    const cells = [];\n    for (let row = 0; row < gridDimensions.rows; row++) {\n      for (let col = 0; col < gridDimensions.cols; col++) {\n        cells.push(\n          <div\n            key={`${row}-${col}`}\n            className=\"grid-cell\"\n            onMouseDown={() => handleMouseDown(row, col)}\n            onMouseEnter={() => handleMouseEnter(row, col)}\n            style={getCellStyle(row, col)}\n          />\n        );\n      }\n    }\n    return cells;\n  };\n\n  const gridStyle: React.CSSProperties = {\n    display: 'grid',\n    gridTemplateColumns: `repeat(${gridDimensions.cols}, ${ZOOM_LEVELS[zoomLevel]}px)`,\n    gridTemplateRows: `repeat(${gridDimensions.rows}, ${ZOOM_LEVELS[zoomLevel]}px)`,\n    gap: showGridLines ? '1px' : '0',\n    justifyContent: 'center',\n    alignContent: 'center',\n    width: '100%',\n    height: '100%',\n    backgroundColor: showGridLines ? '#555' : 'transparent',\n    border: showGridLines ? '1px solid #555' : 'none',\n    overflow: 'hidden',\n  };\n\n  return (\n    <div className=\"sandbox\" onMouseUp={() => setIsPainting(false)} onMouseLeave={() => setIsPainting(false)}>     <div className=\"sandbox-controls\">\n            <button onClick={clearGrid}>Clear</button>\n            <button onClick={randomizeGrid}>Randomize</button>\n            <button onClick={() => setShowGridLines(!showGridLines)} className={showGridLines ? 'active' : ''}>\n                Grid\n            </button>\n            <div className=\"zoom-controls\">\n                <button onClick={() => setZoomLevel(0)} className={zoomLevel === 0 ? 'active' : ''}>1x</button>\n                <button onClick={() => setZoomLevel(1)} className={zoomLevel === 1 ? 'active' : ''}>2x</button>\n                <button onClick={() => setZoomLevel(2)} className={zoomLevel === 2 ? 'active' : ''}>3x</button>\n            </div>\n            <span>{`${gridDimensions.rows} Ã— ${gridDimensions.cols}`}</span>\n        </div>\n      <div \n        ref={gridContainerRef} \n        className={`sandbox-grid ${!showGridLines ? 'no-grid' : ''}`}\n        style={gridStyle}\n      >\n        {generateGridCells()}\n      </div>\n    </div>\n  );\n};\n\nexport default Sandbox;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}