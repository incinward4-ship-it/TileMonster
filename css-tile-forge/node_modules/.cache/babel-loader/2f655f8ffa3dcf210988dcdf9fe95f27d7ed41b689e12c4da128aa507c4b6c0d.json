{"ast":null,"code":"var _jsxFileName = \"/home/user/TileMonster/css-tile-forge/src/components/Sandbox/Sandbox.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Sandbox = ({\n  palette,\n  grid,\n  paintCell,\n  showGridLines\n}) => {\n  _s();\n  const [isPainting, setIsPainting] = useState(false);\n  const handleMouseDown = (rowIndex, cellIndex) => {\n    setIsPainting(true);\n    paintCell(rowIndex, cellIndex);\n  };\n  const handleMouseEnter = (rowIndex, cellIndex) => {\n    if (isPainting) {\n      paintCell(rowIndex, cellIndex);\n    }\n  };\n  const handleMouseUp = () => {\n    setIsPainting(false);\n  };\n  const handleMouseLeave = () => {\n    setIsPainting(false);\n  };\n  const getCellStyle = (rowIndex, cellIndex) => {\n    const paletteIndex = grid[rowIndex][cellIndex];\n    if (paletteIndex === null) {\n      return {\n        backgroundColor: '#ddd',\n        border: showGridLines ? '1px solid #ccc' : 'none'\n      };\n    }\n    const tileStyle = palette[paletteIndex];\n    if (!tileStyle) {\n      return {\n        backgroundColor: '#ddd',\n        border: showGridLines ? '1px solid #ccc' : 'none'\n      };\n    }\n    const finalStyle = {\n      ...tileStyle\n    };\n    if (tileStyle.blend) {\n      var _palette, _palette2, _palette3, _palette4;\n      // Check for neighbors that are also in blend mode\n      const top = rowIndex > 0 && grid[rowIndex - 1][cellIndex] !== null && ((_palette = palette[grid[rowIndex - 1][cellIndex]]) === null || _palette === void 0 ? void 0 : _palette.blend);\n      const bottom = rowIndex < grid.length - 1 && grid[rowIndex + 1][cellIndex] !== null && ((_palette2 = palette[grid[rowIndex + 1][cellIndex]]) === null || _palette2 === void 0 ? void 0 : _palette2.blend);\n      const left = cellIndex > 0 && grid[rowIndex][cellIndex - 1] !== null && ((_palette3 = palette[grid[rowIndex][cellIndex - 1]]) === null || _palette3 === void 0 ? void 0 : _palette3.blend);\n      const right = cellIndex < grid[0].length - 1 && grid[rowIndex][cellIndex + 1] !== null && ((_palette4 = palette[grid[rowIndex][cellIndex + 1]]) === null || _palette4 === void 0 ? void 0 : _palette4.blend);\n\n      // Remove borders on adjacent sides\n      if (top) finalStyle.borderTopWidth = 0;\n      if (bottom) finalStyle.borderBottomWidth = 0;\n      if (left) finalStyle.borderLeftWidth = 0;\n      if (right) finalStyle.borderRightWidth = 0;\n\n      // Refine border radius at corners\n      if (top || left) finalStyle.borderTopLeftRadius = 0;\n      if (top || right) finalStyle.borderTopRightRadius = 0;\n      if (bottom || left) finalStyle.borderBottomLeftRadius = 0;\n      if (bottom || right) finalStyle.borderBottomRightRadius = 0;\n    }\n\n    // Apply transform if it exists\n    if (tileStyle.transform) {\n      finalStyle.transform = tileStyle.transform;\n    }\n    return finalStyle;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"sandbox\",\n    onMouseUp: handleMouseUp,\n    onMouseLeave: handleMouseLeave,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `sandbox-grid ${!showGridLines ? 'no-grid' : ''}`,\n      children: grid.map((row, rowIndex) => row.map((_, cellIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid-cell\",\n        onMouseDown: () => handleMouseDown(rowIndex, cellIndex),\n        onMouseEnter: () => handleMouseEnter(rowIndex, cellIndex),\n        style: getCellStyle(rowIndex, cellIndex),\n        \"aria-label\": `Grid cell ${rowIndex + 1}, ${cellIndex + 1}`\n      }, `${rowIndex}-${cellIndex}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }, this)))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n};\n_s(Sandbox, \"tpql7+EFhSCGtw4KJiL/iw3Bq50=\");\n_c = Sandbox;\nexport default Sandbox;\nvar _c;\n$RefreshReg$(_c, \"Sandbox\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Sandbox","palette","grid","paintCell","showGridLines","_s","isPainting","setIsPainting","handleMouseDown","rowIndex","cellIndex","handleMouseEnter","handleMouseUp","handleMouseLeave","getCellStyle","paletteIndex","backgroundColor","border","tileStyle","finalStyle","blend","_palette","_palette2","_palette3","_palette4","top","bottom","length","left","right","borderTopWidth","borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","transform","className","onMouseUp","onMouseLeave","children","map","row","_","onMouseDown","onMouseEnter","style","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/user/TileMonster/css-tile-forge/src/components/Sandbox/Sandbox.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { TileStyle } from '../../data/types';\n\ninterface SandboxProps {\n  palette: TileStyle[];\n  grid: (number | null)[][];\n  paintCell: (row: number, col: number) => void;\n  showGridLines: boolean;\n}\n\nconst Sandbox: React.FC<SandboxProps> = ({\n  palette,\n  grid,\n  paintCell,\n  showGridLines,\n}) => {\n  const [isPainting, setIsPainting] = useState(false);\n\n  const handleMouseDown = (rowIndex: number, cellIndex: number) => {\n    setIsPainting(true);\n    paintCell(rowIndex, cellIndex);\n  };\n\n  const handleMouseEnter = (rowIndex: number, cellIndex: number) => {\n    if (isPainting) {\n      paintCell(rowIndex, cellIndex);\n    }\n  };\n\n  const handleMouseUp = () => {\n    setIsPainting(false);\n  };\n\n  const handleMouseLeave = () => {\n    setIsPainting(false);\n  };\n\n  const getCellStyle = (rowIndex: number, cellIndex: number): React.CSSProperties => {\n    const paletteIndex = grid[rowIndex][cellIndex];\n\n    if (paletteIndex === null) {\n      return {\n        backgroundColor: '#ddd',\n        border: showGridLines ? '1px solid #ccc' : 'none',\n      };\n    }\n\n    const tileStyle = palette[paletteIndex];\n    if (!tileStyle) {\n      return {\n        backgroundColor: '#ddd',\n        border: showGridLines ? '1px solid #ccc' : 'none',\n      };\n    }\n\n    const finalStyle: TileStyle = { ...tileStyle };\n\n    if (tileStyle.blend) {\n      // Check for neighbors that are also in blend mode\n      const top = rowIndex > 0 && \n                  grid[rowIndex - 1][cellIndex] !== null && \n                  palette[grid[rowIndex - 1][cellIndex]!]?.blend;\n      const bottom = rowIndex < grid.length - 1 && \n                     grid[rowIndex + 1][cellIndex] !== null && \n                     palette[grid[rowIndex + 1][cellIndex]!]?.blend;\n      const left = cellIndex > 0 && \n                   grid[rowIndex][cellIndex - 1] !== null && \n                   palette[grid[rowIndex][cellIndex - 1]!]?.blend;\n      const right = cellIndex < grid[0].length - 1 && \n                    grid[rowIndex][cellIndex + 1] !== null && \n                    palette[grid[rowIndex][cellIndex + 1]!]?.blend;\n\n      // Remove borders on adjacent sides\n      if (top) finalStyle.borderTopWidth = 0;\n      if (bottom) finalStyle.borderBottomWidth = 0;\n      if (left) finalStyle.borderLeftWidth = 0;\n      if (right) finalStyle.borderRightWidth = 0;\n\n      // Refine border radius at corners\n      if (top || left) finalStyle.borderTopLeftRadius = 0;\n      if (top || right) finalStyle.borderTopRightRadius = 0;\n      if (bottom || left) finalStyle.borderBottomLeftRadius = 0;\n      if (bottom || right) finalStyle.borderBottomRightRadius = 0;\n    }\n\n    // Apply transform if it exists\n    if (tileStyle.transform) {\n      finalStyle.transform = tileStyle.transform;\n    }\n\n    return finalStyle;\n  };\n\n  return (\n    <div className=\"sandbox\" onMouseUp={handleMouseUp} onMouseLeave={handleMouseLeave}>\n      <div className={`sandbox-grid ${!showGridLines ? 'no-grid' : ''}`}>\n        {grid.map((row, rowIndex) =>\n          row.map((_, cellIndex) => (\n            <div\n              key={`${rowIndex}-${cellIndex}`}\n              className=\"grid-cell\"\n              onMouseDown={() => handleMouseDown(rowIndex, cellIndex)}\n              onMouseEnter={() => handleMouseEnter(rowIndex, cellIndex)}\n              style={getCellStyle(rowIndex, cellIndex)}\n              aria-label={`Grid cell ${rowIndex + 1}, ${cellIndex + 1}`}\n            />\n          ))\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Sandbox;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}